/* --- Base layout --- */

main {
  display: grid;
  grid-template-columns: repeat(18, 1fr);
  gap: 0.75rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 1rem;
  grid-auto-rows: minmax(80px, auto);
}

/* --- Card styling --- */

.sim-card {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #1a1f36;
  border-radius: 10px;
  padding: 0.8rem;
  text-decoration: none;
  color: #ffffff;
  aspect-ratio: 1 / 1;
  position: relative;
  overflow: visible; /* allow pop-out */
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  isolation: isolate; /* creates a clean stacking context */
}

.sim-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 15px rgba(255,255,255,0.25);
}
.sim-card:hover .symbol {
  opacity: 0;
}
/* --- Symbol visible by default --- */

.sim-card h2,
.sim-card .level,
.sim-card .practical {
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* --- Pop-out overlay --- */

.sim-card .overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 260px;
  height: 260px;
  transform: translate(-50%, -50%) scale(0.01);
  opacity: 0;
  pointer-events: none;

  background: #1a1f36;
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  transform-origin: center center;
  z-index: 10000;
}

/* --- Show overlay on hover --- */

.sim-card:hover .overlay {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

/* --- Hide original content when overlay is active --- */

.sim-card:hover h2,
.sim-card:hover .level,
.sim-card:hover .practical {
  opacity: 0;
}

/* --- Group color coding --- */

.group-alkali        { background: #f94144; }
.group-alkaline      { background: #f3722c; }
.group-transition    { background: #f9c74f; color: #000; }
.group-post          { background: #90be6d; }
.group-metalloid     { background: #43aa8b; }
.group-nonmetal      { background: #577590; }
.group-halogen       { background: #277da1; }
.group-noble         { background: #9d4edd; }
.group-lanthanide    { background: #ffb4a2; color: #000; }
.group-actinide      { background: #b5838d; }
.group-unknown       { background: #adb5bd; color: #000; }

/* --- Periodic table placement (desktop only) --- */

@media (min-width: 900px) {

/* Period 1 */
.H  { grid-column: 1;  grid-row: 1; }
.He { grid-column: 18; grid-row: 1; }

/* Period 2 */
.Li { grid-column: 1;  grid-row: 2; }
.Be { grid-column: 2;  grid-row: 2; }
.B  { grid-column: 13; grid-row: 2; }
.C  { grid-column: 14; grid-row: 2; }
.N  { grid-column: 15; grid-row: 2; }
.O  { grid-column: 16; grid-row: 2; }
.F  { grid-column: 17; grid-row: 2; }
.Ne { grid-column: 18; grid-row: 2; }

/* Period 3 */
.Na { grid-column: 1;  grid-row: 3; }
.Mg { grid-column: 2;  grid-row: 3; }
.Al { grid-column: 13; grid-row: 3; }
.Si { grid-column: 14; grid-row: 3; }
.P  { grid-column: 15; grid-row: 3; }
.S  { grid-column: 16; grid-row: 3; }
.Cl { grid-column: 17; grid-row: 3; }
.Ar { grid-column: 18; grid-row: 3; }

/* Period 4 */
.K  { grid-column: 1;  grid-row: 4; }
.Ca { grid-column: 2;  grid-row: 4; }
.Sc { grid-column: 3;  grid-row: 4; }
.Ti { grid-column: 4;  grid-row: 4; }
.V  { grid-column: 5;  grid-row: 4; }
.Cr { grid-column: 6;  grid-row: 4; }
.Mn { grid-column: 7;  grid-row: 4; }
.Fe { grid-column: 8;  grid-row: 4; }
.Co { grid-column: 9;  grid-row: 4; }
.Ni { grid-column: 10; grid-row: 4; }
.Cu { grid-column: 11; grid-row: 4; }
.Zn { grid-column: 12; grid-row: 4; }
.Ga { grid-column: 13; grid-row: 4; }
.Ge { grid-column: 14; grid-row: 4; }
.As { grid-column: 15; grid-row: 4; }
.Se { grid-column: 16; grid-row: 4; }
.Br { grid-column: 17; grid-row: 4; }
.Kr { grid-column: 18; grid-row: 4; }

/* Period 5 */
.Rb { grid-column: 1;  grid-row: 5; }
.Sr { grid-column: 2;  grid-row: 5; }
.Y  { grid-column: 3;  grid-row: 5; }
.Zr { grid-column: 4;  grid-row: 5; }
.Nb { grid-column: 5;  grid-row: 5; }
.Mo { grid-column: 6;  grid-row: 5; }
.Tc { grid-column: 7;  grid-row: 5; }
.Ru { grid-column: 8;  grid-row: 5; }
.Rh { grid-column: 9;  grid-row: 5; }
.Pd { grid-column: 10; grid-row: 5; }
.Ag { grid-column: 11; grid-row: 5; }
.Cd { grid-column: 12; grid-row: 5; }
.In { grid-column: 13; grid-row: 5; }
.Sn { grid-column: 14; grid-row: 5; }
.Sb { grid-column: 15; grid-row: 5; }
.Te { grid-column: 16; grid-row: 5; }
.I  { grid-column: 17; grid-row: 5; }
.Xe { grid-column: 18; grid-row: 5; }

/* Period 6 */
.Cs { grid-column: 1;  grid-row: 6; }
.Ba { grid-column: 2;  grid-row: 6; }
.La { grid-column: 3;  grid-row: 8; }
.Ce { grid-column: 4;  grid-row: 8; }
.Pr { grid-column: 5;  grid-row: 8; }
.Nd { grid-column: 6;  grid-row: 8; }
.Pm { grid-column: 7;  grid-row: 8; }
.Sm { grid-column: 8;  grid-row: 8; }
.Eu { grid-column: 9;  grid-row: 8; }
.Gd { grid-column: 10; grid-row: 8; }
.Tb { grid-column: 11; grid-row: 8; }
.Dy { grid-column: 12; grid-row: 8; }
.Ho { grid-column: 13; grid-row: 8; }
.Er { grid-column: 14; grid-row: 8; }
.Tm { grid-column: 15; grid-row: 8; }
.Yb { grid-column: 16; grid-row: 8; }
.Lu { grid-column: 17; grid-row: 8; }
.Hf { grid-column: 4;  grid-row: 6; }
.Ta { grid-column: 5;  grid-row: 6; }
.W  { grid-column: 6;  grid-row: 6; }
.Re { grid-column: 7;  grid-row: 6; }
.Os { grid-column: 8;  grid-row: 6; }
.Ir { grid-column: 9;  grid-row: 6; }
.Pt { grid-column: 10; grid-row: 6; }
.Au { grid-column: 11; grid-row: 6; }
.Hg { grid-column: 12; grid-row: 6; }
.Tl { grid-column: 13; grid-row: 6; }
.Pb { grid-column: 14; grid-row: 6; }
.Bi { grid-column: 15; grid-row: 6; }
.Po { grid-column: 16; grid-row: 6; }
.At { grid-column: 17; grid-row: 6; }
.Rn { grid-column: 18; grid-row: 6; }

/* Period 7 */
.Fr { grid-column: 1;  grid-row: 7; }
.Ra { grid-column: 2;  grid-row: 7; }
.Ac { grid-column: 3;  grid-row: 9; }
.Th { grid-column: 4;  grid-row: 9; }
.Pa { grid-column: 5;  grid-row: 9; }
.U  { grid-column: 6;  grid-row: 9; }
.Np { grid-column: 7;  grid-row: 9; }
.Pu { grid-column: 8;  grid-row: 9; }
.Am { grid-column: 9;  grid-row: 9; }
.Cm { grid-column: 10; grid-row: 9; }
.Bk { grid-column: 11; grid-row: 9; }
.Cf { grid-column: 12; grid-row: 9; }
.Es { grid-column: 13; grid-row: 9; }
.Fm { grid-column: 14; grid-row: 9; }
.Md { grid-column: 15; grid-row: 9; }
.No { grid-column: 16; grid-row: 9; }
.Lr { grid-column: 17; grid-row: 9; }
.Rf { grid-column: 4;  grid-row: 7; }
.Db { grid-column: 5;  grid-row: 7; }
.Sg { grid-column: 6;  grid-row: 7; }
.Bh { grid-column: 7;  grid-row: 7; }
.Hs { grid-column: 8;  grid-row: 7; }
.Mt { grid-column: 9;  grid-row: 7; }
.Ds { grid-column: 10; grid-row: 7; }
.Rg { grid-column: 11; grid-row: 7; }
.Cn { grid-column: 12; grid-row: 7; }
.Nh { grid-column: 13; grid-row: 7; }
.Fl { grid-column: 14; grid-row: 7; }
.Mc { grid-column: 15; grid-row: 7; }
.Lv { grid-column: 16; grid-row: 7; }
.Ts { grid-column: 17; grid-row: 7; }
.Og { grid-column: 18; grid-row: 7; }

}

/* --- Mobile: collapse to simple grid --- */

@media (max-width: 899px) {
  main {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }
}
#sim-overlay {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 260px;
  height: 260px;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;

  background: #1a1f36;
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 0 25px rgba(0,0,0,0.5);

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  transition: transform 0.25s ease, opacity 0.25s ease;
  z-index: 999999; /* above everything */
  pointer-events: none;
}
#sim-overlay.active {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  pointer-events: auto;
}
.sim-card .overlay {
  display: none;
}